{"ast":null,"code":"'use strict';\n\nvar extend = require('xtend');\n\nmodule.exports = function (req) {\n  var xhr = req.xhr;\n  var props = {\n    request: req,\n    xhr: xhr\n  }; // Try to create the response from the request. If the request was aborted,\n  // accesssing properties of the XHR may throw an error, so we wrap in a\n  // try/catch.\n\n  try {\n    var lines,\n        i,\n        m,\n        headers = {};\n\n    if (xhr.getAllResponseHeaders) {\n      lines = xhr.getAllResponseHeaders().split('\\n');\n\n      for (i = 0; i < lines.length; i++) {\n        if (m = lines[i].match(/\\s*([^\\s]+):\\s+([^\\s]+)/)) {\n          headers[m[1]] = m[2];\n        }\n      }\n    }\n\n    props = extend(props, {\n      status: xhr.status,\n      contentType: xhr.contentType || xhr.getResponseHeader && xhr.getResponseHeader('Content-Type'),\n      headers: headers,\n      text: xhr.responseText,\n      body: xhr.response || xhr.responseText\n    });\n  } catch (err) {}\n\n  return props;\n};","map":{"version":3,"names":["extend","require","module","exports","req","xhr","props","request","lines","i","m","headers","getAllResponseHeaders","split","length","match","status","contentType","getResponseHeader","text","responseText","body","response","err"],"sources":["D:/twitter-clone/client/node_modules/httpplease/lib/utils/extractResponseProps.js"],"sourcesContent":["'use strict';\n\nvar extend = require('xtend');\n\nmodule.exports = function(req) {\n  var xhr = req.xhr;\n  var props = {request: req, xhr: xhr};\n\n  // Try to create the response from the request. If the request was aborted,\n  // accesssing properties of the XHR may throw an error, so we wrap in a\n  // try/catch.\n  try {\n    var lines, i, m, headers = {};\n    if (xhr.getAllResponseHeaders) {\n      lines = xhr.getAllResponseHeaders().split('\\n');\n      for (i = 0; i < lines.length; i++) {\n        if ((m = lines[i].match(/\\s*([^\\s]+):\\s+([^\\s]+)/))) {\n          headers[m[1]] = m[2];\n        }\n      }\n    }\n\n    props = extend(props, {\n      status: xhr.status,\n      contentType: xhr.contentType || (xhr.getResponseHeader && xhr.getResponseHeader('Content-Type')),\n      headers: headers,\n      text: xhr.responseText,\n      body: xhr.response || xhr.responseText\n    });\n  } catch (err) {}\n\n  return props;\n};\n"],"mappings":"AAAA;;AAEA,IAAIA,MAAM,GAAGC,OAAO,CAAC,OAAD,CAApB;;AAEAC,MAAM,CAACC,OAAP,GAAiB,UAASC,GAAT,EAAc;EAC7B,IAAIC,GAAG,GAAGD,GAAG,CAACC,GAAd;EACA,IAAIC,KAAK,GAAG;IAACC,OAAO,EAAEH,GAAV;IAAeC,GAAG,EAAEA;EAApB,CAAZ,CAF6B,CAI7B;EACA;EACA;;EACA,IAAI;IACF,IAAIG,KAAJ;IAAA,IAAWC,CAAX;IAAA,IAAcC,CAAd;IAAA,IAAiBC,OAAO,GAAG,EAA3B;;IACA,IAAIN,GAAG,CAACO,qBAAR,EAA+B;MAC7BJ,KAAK,GAAGH,GAAG,CAACO,qBAAJ,GAA4BC,KAA5B,CAAkC,IAAlC,CAAR;;MACA,KAAKJ,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGD,KAAK,CAACM,MAAtB,EAA8BL,CAAC,EAA/B,EAAmC;QACjC,IAAKC,CAAC,GAAGF,KAAK,CAACC,CAAD,CAAL,CAASM,KAAT,CAAe,yBAAf,CAAT,EAAqD;UACnDJ,OAAO,CAACD,CAAC,CAAC,CAAD,CAAF,CAAP,GAAgBA,CAAC,CAAC,CAAD,CAAjB;QACD;MACF;IACF;;IAEDJ,KAAK,GAAGN,MAAM,CAACM,KAAD,EAAQ;MACpBU,MAAM,EAAEX,GAAG,CAACW,MADQ;MAEpBC,WAAW,EAAEZ,GAAG,CAACY,WAAJ,IAAoBZ,GAAG,CAACa,iBAAJ,IAAyBb,GAAG,CAACa,iBAAJ,CAAsB,cAAtB,CAFtC;MAGpBP,OAAO,EAAEA,OAHW;MAIpBQ,IAAI,EAAEd,GAAG,CAACe,YAJU;MAKpBC,IAAI,EAAEhB,GAAG,CAACiB,QAAJ,IAAgBjB,GAAG,CAACe;IALN,CAAR,CAAd;EAOD,CAlBD,CAkBE,OAAOG,GAAP,EAAY,CAAE;;EAEhB,OAAOjB,KAAP;AACD,CA5BD"},"metadata":{},"sourceType":"script"}