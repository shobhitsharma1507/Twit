{"ast":null,"code":"var _jsxFileName = \"D:\\\\twitter-clone\\\\client\\\\src\\\\App.js\";\nimport React, { Component } from \"react\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport jwt_decode from 'jwt-decode';\nimport store from \"./store\";\nimport Home from \"./components/home\";\nimport Login from \"./components/Auth/login\";\nimport Register from \"./components/Auth/register\";\nimport Main from \"./components/Layout/Main\";\nimport setAuthHeader from './utils/setAuthHeader';\nimport { logoutUser, getCurrentUser } from './actions/authActions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nif (localStorage.getItem('jwtToken')) {\n  const currentTime = Date.now() / 1000;\n  const decode = jwt_decode(localStorage.getItem('jwtToken'));\n\n  if (currentTime > decode.exp) {\n    store.dispatch(logoutUser());\n    window.location.href = '/';\n  } else {\n    setAuthHeader(localStorage.getItem('jwtToken'));\n    store.dispatch(getCurrentUser());\n  }\n}\n\nclass App extends Component {\n  render() {\n    return /*#__PURE__*/_jsxDEV(Provider, {\n      store: store,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(BrowserRouter, {\n          children: /*#__PURE__*/_jsxDEV(Main, {\n            children: /*#__PURE__*/_jsxDEV(Switch, {\n              children: [/*#__PURE__*/_jsxDEV(Route, {\n                exact: true,\n                path: \"/\",\n                component: Home\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 37,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Route, {\n                path: \"/login\",\n                component: Login\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 38,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Route, {\n                path: \"/register\",\n                component: Register\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 39,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 36,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"names":["React","Component","BrowserRouter","Route","Switch","Provider","jwt_decode","store","Home","Login","Register","Main","setAuthHeader","logoutUser","getCurrentUser","localStorage","getItem","currentTime","Date","now","decode","exp","dispatch","window","location","href","App","render"],"sources":["D:/twitter-clone/client/src/App.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport { Provider } from \"react-redux\";\nimport jwt_decode from 'jwt-decode'\n\n\nimport store from \"./store\";\nimport Home from \"./components/home\";\nimport Login from \"./components/Auth/login\";\nimport Register from \"./components/Auth/register\";\nimport Main from \"./components/Layout/Main\";\n\nimport setAuthHeader from './utils/setAuthHeader'\nimport { logoutUser, getCurrentUser } from './actions/authActions'\n\nif (localStorage.getItem('jwtToken')) {\n  const currentTime = Date.now() / 1000\n  const decode = jwt_decode(localStorage.getItem('jwtToken'))\n\n  if (currentTime > decode.exp) {\n    store.dispatch(logoutUser())\n    window.location.href = '/'\n  } else {\n    setAuthHeader(localStorage.getItem('jwtToken'))\n    store.dispatch(getCurrentUser())\n  }\n}\n\nclass App extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <div>\n          <BrowserRouter>\n            <Main>\n              <Switch>\n                <Route exact path=\"/\" component={Home} />\n                <Route path=\"/login\" component={Login} />\n                <Route path=\"/register\" component={Register} />\n              </Switch>\n            </Main>\n          </BrowserRouter>\n        </div>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,aAAT,EAAwBC,KAAxB,EAA+BC,MAA/B,QAA6C,kBAA7C;AACA,SAASC,QAAT,QAAyB,aAAzB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AAGA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,IAAP,MAAiB,0BAAjB;AAEA,OAAOC,aAAP,MAA0B,uBAA1B;AACA,SAASC,UAAT,EAAqBC,cAArB,QAA2C,uBAA3C;;;AAEA,IAAIC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAJ,EAAsC;EACpC,MAAMC,WAAW,GAAGC,IAAI,CAACC,GAAL,KAAa,IAAjC;EACA,MAAMC,MAAM,GAAGd,UAAU,CAACS,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAD,CAAzB;;EAEA,IAAIC,WAAW,GAAGG,MAAM,CAACC,GAAzB,EAA8B;IAC5Bd,KAAK,CAACe,QAAN,CAAeT,UAAU,EAAzB;IACAU,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;EACD,CAHD,MAGO;IACLb,aAAa,CAACG,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAD,CAAb;IACAT,KAAK,CAACe,QAAN,CAAeR,cAAc,EAA7B;EACD;AACF;;AAED,MAAMY,GAAN,SAAkBzB,SAAlB,CAA4B;EAC1B0B,MAAM,GAAG;IACP,oBACE,QAAC,QAAD;MAAU,KAAK,EAAEpB,KAAjB;MAAA,uBACE;QAAA,uBACE,QAAC,aAAD;UAAA,uBACE,QAAC,IAAD;YAAA,uBACE,QAAC,MAAD;cAAA,wBACE,QAAC,KAAD;gBAAO,KAAK,MAAZ;gBAAa,IAAI,EAAC,GAAlB;gBAAsB,SAAS,EAAEC;cAAjC;gBAAA;gBAAA;gBAAA;cAAA,QADF,eAEE,QAAC,KAAD;gBAAO,IAAI,EAAC,QAAZ;gBAAqB,SAAS,EAAEC;cAAhC;gBAAA;gBAAA;gBAAA;cAAA,QAFF,eAGE,QAAC,KAAD;gBAAO,IAAI,EAAC,WAAZ;gBAAwB,SAAS,EAAEC;cAAnC;gBAAA;gBAAA;gBAAA;cAAA,QAHF;YAAA;cAAA;cAAA;cAAA;YAAA;UADF;YAAA;YAAA;YAAA;UAAA;QADF;UAAA;UAAA;UAAA;QAAA;MADF;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF;EAeD;;AAjByB;;AAoB5B,eAAegB,GAAf"},"metadata":{},"sourceType":"module"}